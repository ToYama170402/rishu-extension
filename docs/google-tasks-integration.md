# Google Tasks Integration Feature

## æ¦‚è¦
é‡‘æ²¢å¤§å­¦ã®LMSã®ãƒ¬ãƒãƒ¼ãƒˆèª²é¡Œã‚’ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯ã§Googleã‚¿ã‚¹ã‚¯ã«è¿½åŠ ã§ãã‚‹æ©Ÿèƒ½ã§ã™ã€‚

## âš ï¸ é‡è¦ï¼šã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—è¦ä»¶

ã“ã®æ©Ÿèƒ½ã‚’ä½¿ç”¨ã™ã‚‹ã«ã¯ã€Google Cloud Console ã§Google Tasks API ã‚’æœ‰åŠ¹ã«ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

### Google Cloud Console ã§ã®APIæœ‰åŠ¹åŒ–æ‰‹é †

1. **Google Cloud Console ã«ã‚¢ã‚¯ã‚»ã‚¹**
   - [Google Cloud Console](https://console.cloud.google.com/)ã«ãƒ­ã‚°ã‚¤ãƒ³
   - OAuthè¨­å®šã§ä½¿ç”¨ã—ã¦ã„ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é¸æŠ

2. **Google Tasks API ã‚’æœ‰åŠ¹åŒ–**
   - å·¦å´ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰ã€ŒAPIã¨ã‚µãƒ¼ãƒ“ã‚¹ã€â†’ã€Œãƒ©ã‚¤ãƒ–ãƒ©ãƒªã€ã‚’é¸æŠ
   - æ¤œç´¢ãƒãƒ¼ã§ã€ŒGoogle Tasks APIã€ã‚’æ¤œç´¢
   - ã€ŒGoogle Tasks APIã€ã‚’ã‚¯ãƒªãƒƒã‚¯
   - ã€Œæœ‰åŠ¹ã«ã™ã‚‹ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯

3. **ç¢ºèª**
   - ã€ŒAPIã¨ã‚µãƒ¼ãƒ“ã‚¹ã€â†’ã€Œæœ‰åŠ¹ãªAPIã€ã§ã€ŒGoogle Tasks APIã€ãŒä¸€è¦§ã«è¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª

### ã‚ˆãã‚ã‚‹ã‚¨ãƒ©ãƒ¼ã¨ãã®å¯¾å‡¦æ³•

**ã‚¨ãƒ©ãƒ¼ä¾‹:**
```
Error: ã‚¿ã‚¹ã‚¯ã®è¿½åŠ ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚Status: 403, Error: {"error":{"code":403,"message":"Google Tasks API has not been used in project [PROJECT_ID] before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/tasks.googleapis.com/overview?project=[PROJECT_ID] then retry..."}}
```

**å¯¾å‡¦æ³•:**
ä¸Šè¨˜ã®æ‰‹é †ã§Google Tasks APIã‚’æœ‰åŠ¹åŒ–ã—ã¦ãã ã•ã„ã€‚APIæœ‰åŠ¹åŒ–å¾Œã€æ•°åˆ†å¾…ã£ã¦ã‹ã‚‰å†åº¦ãŠè©¦ã—ãã ã•ã„ã€‚

## æ©Ÿèƒ½è©³ç´°

### å¯¾è±¡ãƒšãƒ¼ã‚¸
- `https://lms-wc.el.kanazawa-u.ac.jp/webclass/course.php/*`

### æ©Ÿèƒ½
1. **è‡ªå‹•èª²é¡Œæ¤œå‡º**: ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«è‡ªå‹•ã§ãƒ¬ãƒãƒ¼ãƒˆãƒ»èª²é¡Œã‚’æ¤œå‡º
2. **å€‹åˆ¥è¿½åŠ **: å„èª²é¡Œã«ã€ŒğŸ“‹ ã‚¿ã‚¹ã‚¯ã«è¿½åŠ ã€ãƒœã‚¿ãƒ³ã‚’é…ç½®
3. **ä¸€æ‹¬è¿½åŠ **: æœªæå‡ºèª²é¡Œã‚’ã¾ã¨ã‚ã¦è¿½åŠ ã™ã‚‹æ©Ÿèƒ½
4. **ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°**: æå‡ºæ¸ˆã¿èª²é¡Œã‚„æœŸé™åˆ‡ã‚Œèª²é¡Œã‚’é™¤å¤–

### æ¤œå‡ºå¯¾è±¡
- èª²é¡Œç¨®åˆ¥ãŒã€Œãƒ¬ãƒãƒ¼ãƒˆã€ã€Œèª²é¡Œã€ã€ŒReportã€ã€ŒAssignmentã€ã®ã‚‚ã®
- æœªæå‡ºã®èª²é¡Œã®ã¿ãŒä¸€æ‹¬è¿½åŠ ã®å¯¾è±¡

### Google Tasksé€£æº
- èª²é¡Œã‚¿ã‚¤ãƒˆãƒ«ãŒã‚¿ã‚¹ã‚¯åã«è¨­å®šã•ã‚Œã‚‹
- æå‡ºæœŸé™ãŒã‚¿ã‚¹ã‚¯ã®æœŸé™ã«è‡ªå‹•è¨­å®š
- ã‚³ãƒ¼ã‚¹åã€èª²é¡Œç¨®åˆ¥ã€æœŸé™æƒ…å ±ãŒã‚¿ã‚¹ã‚¯ãƒ¡ãƒ¢ã«è¨˜éŒ²ã•ã‚Œã‚‹

### ä½¿ç”¨æ–¹æ³•
1. LMSã®è¬›ç¾©ãƒšãƒ¼ã‚¸ã‚’é–‹ã
2. æ‹¡å¼µæ©Ÿèƒ½ãŒè‡ªå‹•ã§èª²é¡Œã‚’æ¤œå‡ºã—ã€ä¸Šéƒ¨ã«æ“ä½œãƒ‘ãƒãƒ«ã‚’è¡¨ç¤º
3. å€‹åˆ¥è¿½åŠ : å„èª²é¡Œã®ã€ŒğŸ“‹ ã‚¿ã‚¹ã‚¯ã«è¿½åŠ ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
4. ä¸€æ‹¬è¿½åŠ : ã€ŒğŸ“‹ æœªæå‡ºèª²é¡Œã‚’ä¸€æ‹¬è¿½åŠ ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯

### UIçŠ¶æ…‹
- è¿½åŠ æ¸ˆã¿èª²é¡Œ: ãƒœã‚¿ãƒ³ãŒã€Œâœ“ è¿½åŠ æ¸ˆã¿ã€ã«å¤‰åŒ–ã—ã€æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º
- æå‡ºæ¸ˆã¿èª²é¡Œ: ãƒœã‚¿ãƒ³ã¯è¡¨ç¤ºã•ã‚Œãªã„
- ã‚¨ãƒ©ãƒ¼æ™‚: ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º

## æŠ€è¡“ä»•æ§˜

### èª²é¡ŒæŠ½å‡ºãƒ­ã‚¸ãƒƒã‚¯
```javascript
Array.from(document.querySelectorAll(".col-xs-12 .list-group-item"))
  .map((e) => {
    const titleElement = e.querySelector(".cm-contentsList_contentName *:last-child")
    const typeElement = e.querySelector(".cl-contentsList_categoryLabel")
    const expireElement = e.querySelector(".cm-contentsList_contentDetailListItemData")
    // ... æœŸé™è§£æã¨ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
  })
```

### æœŸé™è§£æ
- å½¢å¼: `YYYY/MM/DD HH:MM - YYYY/MM/DD HH:MM`
- é–‹å§‹æ™‚åˆ»ã¨çµ‚äº†æ™‚åˆ»ã‚’åˆ†é›¢ã—ã¦è§£æ
- ç„¡åŠ¹ãªæ—¥ä»˜ã¯ null ã¨ã—ã¦å‡¦ç†

### æå‡ºçŠ¶æ³åˆ¤å®š
- `.label-success`ã€`.badge-success` ã‚¯ãƒ©ã‚¹ã®å­˜åœ¨
- ãƒ†ã‚­ã‚¹ãƒˆå†…ã®ã€Œæå‡ºæ¸ˆã¿ã€ã€Œå®Œäº†ã€ã€Œsubmittedã€ã‚’æ¤œå‡º

## OAuthæ¨©é™
- `https://www.googleapis.com/auth/tasks` - Google Tasks APIã¸ã®ã‚¢ã‚¯ã‚»ã‚¹
- `https://www.googleapis.com/auth/calendar` - æ—¢å­˜ã®ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼æ©Ÿèƒ½ï¼ˆç¶­æŒï¼‰

## APIå‘¼ã³å‡ºã—
- `GET_TASKS_LIST`: ã‚¿ã‚¹ã‚¯ãƒªã‚¹ãƒˆä¸€è¦§å–å¾—
- `CREATE_TASK`: ã‚¿ã‚¹ã‚¯ä½œæˆ

## ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
- èªè¨¼ã‚¨ãƒ©ãƒ¼: OAuthå†èªè¨¼ã‚’ä¿ƒã™
- API ã‚¨ãƒ©ãƒ¼: è©³ç´°ãªã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º
- éƒ¨åˆ†çš„å¤±æ•—: æˆåŠŸã—ãŸä»¶æ•°ã¨å¤±æ•—ã—ãŸä»¶æ•°ã‚’å ±å‘Š